(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b08cb41c"],{1148:function(t,a,s){"use strict";var l=s("a691"),i=s("1d80");t.exports="".repeat||function(t){var a=String(i(this)),s="",e=l(t);if(e<0||e==1/0)throw RangeError("Wrong number of repetitions");for(;e>0;(e>>>=1)&&(a+=a))1&e&&(s+=a);return s}},"408a":function(t,a,s){var l=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=l(t))throw TypeError("Incorrect invocation");return+t}},"8b11":function(t,a,s){},9406:function(t,a,s){"use strict";s.r(a);var l=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"app-container",staticStyle:{background:"#2d3a4b"}},[s("el-row",{staticClass:"row-margin",attrs:{gutter:12}},[s("el-col",{attrs:{span:6}},[s("el-card",{staticClass:"custom-header",attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("生产数据")])]),s("div",{style:{height:"400px",marginTop:"20px"},attrs:{id:"chart1"}}),t._t("content"),s("div",{style:{height:"400px",marginTop:"40px",marginBottom:"27px"},attrs:{id:"chart2"}})],2)],1),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"custom-header",attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("计划数据")])]),t._t("content"),s("div",{staticClass:"box"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当日工作计划")]),s("span",{staticClass:"result"},[t._v(t._s(t.planDay))])])]),s("div",{staticClass:"box"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当周工作计划")]),s("span",{staticClass:"result"},[t._v(t._s(t.planWeek))])])]),s("div",{staticClass:"box_right"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当月工作计划")]),s("span",{staticClass:"result"},[t._v(t._s(t.planMonth))])])]),s("div",{staticClass:"box"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当日完成率")]),s("span",{staticClass:"result"},[t._v(t._s(t.dayPC))])])]),s("div",{staticClass:"box"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当周完成率")]),s("span",{staticClass:"result"},[t._v(t._s(t.weekPC))])])]),s("div",{staticClass:"box_right"},[s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_l_line"}),s("i",{staticClass:"l_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"t_r_line"}),s("i",{staticClass:"r_t_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"l_b_line"}),s("i",{staticClass:"b_l_line"})]),s("div",{staticClass:"t_line_box"},[s("i",{staticClass:"r_b_line"}),s("i",{staticClass:"b_r_line"})]),s("div",{staticClass:"data"},[s("span",{staticClass:"title"},[t._v("当月完成率")]),s("span",{staticClass:"result"},[t._v(t._s(t.monthPC))])])]),s("div",{style:{height:"400px",marginTop:"20px"},attrs:{id:"chart3"}})],2)],1),s("el-col",{attrs:{span:6}},[s("el-card",{staticClass:"custom-header",attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[t._v("设备产量")])]),t._t("content"),s("div",{staticClass:"plcData",attrs:{id:"plc1"}},[s("span",{staticClass:"plc"},[t._v("1-A："+t._s(t.plc1NumA))]),s("span",{staticClass:"plc"},[t._v("1-B："+t._s(t.plc1NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc2"}},[s("span",{staticClass:"plc"},[t._v("2-A："+t._s(t.plc2NumA))]),s("span",{staticClass:"plc"},[t._v("2-B："+t._s(t.plc2NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc3"}},[s("span",{staticClass:"plc"},[t._v("3-A："+t._s(t.plc3NumA))]),s("span",{staticClass:"plc"},[t._v("3-B："+t._s(t.plc3NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc4"}},[s("span",{staticClass:"plc"},[t._v("4-A："+t._s(t.plc4NumA))]),s("span",{staticClass:"plc"},[t._v("4-B："+t._s(t.plc4NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc5"}},[s("span",{staticClass:"plc"},[t._v("5-A："+t._s(t.plc5NumA))]),s("span",{staticClass:"plc"},[t._v("5-B："+t._s(t.plc5NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc6"}},[s("span",{staticClass:"plc"},[t._v("6-A："+t._s(t.plc6NumA))]),s("span",{staticClass:"plc"},[t._v("6-B："+t._s(t.plc6NumB))])]),s("div",{staticClass:"plcData",attrs:{id:"plc7"}}),s("div",{staticClass:"plcData",attrs:{id:"plc8"}}),s("div",{staticClass:"plcData",attrs:{id:"plc9"}}),s("div",{staticClass:"plcData",attrs:{id:"plc10"}})],2)],1)],1)],1)},i=[],e=(s("b680"),s("313e")),c={data:function(){return{actualDay:0,actualWeek:0,actualMonth:0,planDay:0,planWeek:0,planMonth:0,failDay:0,failWeek:0,failMonth:0,dayPC:"0%",weekPC:"0%",monthPC:"0%",plc1NumA:"0",plc1NumB:"0",plc2NumA:"0",plc2NumB:"0",plc3NumA:"0",plc3NumB:"0",plc4NumA:"0",plc4NumB:"0",plc5NumA:"0",plc5NumB:"0",plc6NumA:"0",plc6NumB:"0"}},created:function(){this.getPlcData()},methods:{getPlcData:function(){var t=this;this.$axios.get("http://localhost:8181/mesPlc/getNum").then((function(a){console.log(a.data),t.plc1NumA=a.data[0].prodNumA,t.plc1NumB=a.data[0].prodNumB,t.plc2NumA=a.data[1].prodNumA,t.plc2NumB=a.data[1].prodNumB,t.plc3NumA=a.data[2].prodNumA,t.plc3NumB=a.data[2].prodNumB,t.plc4NumA=a.data[3].prodNumA,t.plc4NumB=a.data[3].prodNumB,t.plc5NumA=a.data[4].prodNumA,t.plc5NumB=a.data[4].prodNumB,t.plc6NumA=a.data[5].prodNumA,t.plc6NumB=a.data[5].prodNumB}))},initCharts:function(){this.chart1=e.init(document.getElementById("chart1"),"dark"),this.chart2=e.init(document.getElementById("chart2"),"dark"),this.chart3=e.init(document.getElementById("chart3"),"dark"),this.setOptions()},setOptions:function(){var t=this;this.$axios.get("http://localhost:8181/mesPrimaryProducePlan/query").then((function(a){console.log(a.data),null==a.data.actualNumList[0]?(t.actualDay=0,console.log("为空")):t.actualDay=a.data.actualNumList[0],null==a.data.actualNumList[1]?(t.actualWeek=0,console.log("为空")):t.actualWeek=a.data.actualNumList[1],null==a.data.actualNumList[2]?(t.actualMonth=0,console.log("为空")):t.actualMonth=a.data.actualNumList[2],null==a.data.planNumList[0]?(t.planDay=0,console.log("为空")):t.planDay=a.data.planNumList[0],null==a.data.planNumList[1]?(t.planWeek=0,console.log("为空")):t.planWeek=a.data.planNumList[1],null==a.data.planNumList[2]?(t.planMonth=0,console.log("为空")):t.planMonth=a.data.planNumList[2],null==a.data.failNumList[0]?(t.failDay=0,console.log("为空")):t.failDay=a.data.failNumList[0],null==a.data.failNumList[1]?(t.failWeek=0,console.log("为空")):t.failWeek=a.data.failNumList[1],null==a.data.failNumList[2]?(t.failMonth=0,console.log("为空")):t.failMonth=a.data.failNumList[2],0!=t.actualDay&&0!=t.planDay&&(t.dayPC=(Math.round((t.actualDay+t.failDay)/t.planDay*1e4)/100).toFixed(2)+"%"),0!=t.actualWeek&&0!=t.planWeek&&(t.weekPC=(Math.round((t.actualWeek+t.failWeek)/t.planWeek*1e4)/100).toFixed(2)+"%"),0!=t.actualMonth&&0!=t.planMonth&&(t.monthPC=(Math.round((t.actualMonth+t.failMonth)/t.planMonth*1e4)/100).toFixed(2)+"%"),t.chart1.setOption({title:{text:"本日计划",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:[{value:a.data.actualNumList[0],name:"当日合格"},{value:a.data.failNumList[0],name:"当日手动焊接"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),t.chart2.setOption({title:{text:"本周计划",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:[{value:a.data.actualNumList[1],name:"当周合格"},{value:a.data.failNumList[1],name:"当周手动焊接"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),t.chart3.setOption({darkMode:!0,backgroundColor:"#100C2A",title:{text:"生产统计",subtext:"日/周/月合格计划数量",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"vertical",left:"left"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["日统计数量","周统计数量","月统计数量"]},yAxis:{type:"value"},series:[{name:"完成数量",data:a.data.actualNumList,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}},{name:"计划数量",data:a.data.planNumList,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]})}))}},beforeDestroy:function(){clearInterval(this.getPlcData())},mounted:function(){this.initCharts(),setInterval(this.getPlcData,1e4)}},n=c,o=(s("af54"),s("2877")),r=Object(o["a"])(n,l,i,!1,null,null,null);a["default"]=r.exports},af54:function(t,a,s){"use strict";s("8b11")},b680:function(t,a,s){"use strict";var l=s("23e7"),i=s("a691"),e=s("408a"),c=s("1148"),n=s("d039"),o=1..toFixed,r=Math.floor,d=function(t,a,s){return 0===a?s:a%2===1?d(t,a-1,s*t):d(t*t,a/2,s)},_=function(t){var a=0,s=t;while(s>=4096)a+=12,s/=4096;while(s>=2)a+=1,s/=2;return a},u=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){o.call({})}));l({target:"Number",proto:!0,forced:u},{toFixed:function(t){var a,s,l,n,o=e(this),u=i(t),p=[0,0,0,0,0,0],C="",m="0",v=function(t,a){var s=-1,l=a;while(++s<6)l+=t*p[s],p[s]=l%1e7,l=r(l/1e7)},h=function(t){var a=6,s=0;while(--a>=0)s+=p[a],p[a]=r(s/t),s=s%t*1e7},b=function(){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==p[t]){var s=String(p[t]);a=""===a?s:a+c.call("0",7-s.length)+s}return a};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(C="-",o=-o),o>1e-21)if(a=_(o*d(2,69,1))-69,s=a<0?o*d(2,-a,1):o/d(2,a,1),s*=4503599627370496,a=52-a,a>0){v(0,s),l=u;while(l>=7)v(1e7,0),l-=7;v(d(10,l,1),0),l=a-1;while(l>=23)h(1<<23),l-=23;h(1<<l),v(1,1),h(2),m=b()}else v(0,s),v(1<<-a,0),m=b()+c.call("0",u);return u>0?(n=m.length,m=C+(n<=u?"0."+c.call("0",u-n)+m:m.slice(0,n-u)+"."+m.slice(n-u))):m=C+m,m}})}}]);